/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v1.2.1
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
window.whatInput=function(){"use strict";function e(){clearTimeout(E),n(event),v=!0,E=setTimeout(function(){v=!1},650)}function t(e){v||n(e)}function n(e){var t=i(e),n=r(e),s=y[e.type];"pointer"===s&&(s=u(e)),f!==s&&(!w.hasAttribute("data-whatinput-formtyping")&&f&&"keyboard"===s&&"tab"!==L[t]&&m.indexOf(n.nodeName.toLowerCase())>=0||o(s)),"keyboard"===s&&d(t)}function o(e){f=e,w.setAttribute("data-whatinput",f),-1===l.indexOf(f)&&l.push(f)}function i(e){return e.keyCode?e.keyCode:e.which}function r(e){return e.target||e.srcElement}function u(e){return"number"==typeof e.pointerType?k[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType}function d(e){-1===p.indexOf(L[e])&&L[e]&&p.push(L[e])}function s(e){var t=i(e),n=p.indexOf(L[t]);-1!==n&&p.splice(n,1)}function a(){window.PointerEvent?(w.addEventListener("pointerdown",t),w.addEventListener("pointermove",t)):window.MSPointerEvent?(w.addEventListener("MSPointerDown",t),w.addEventListener("MSPointerMove",t)):(w.addEventListener("mousedown",t),w.addEventListener("mousemove",t),"ontouchstart"in window&&w.addEventListener("touchstart",e)),w.addEventListener(h,n),w.addEventListener("keydown",n),document.addEventListener("keyup",s)}function c(){return h="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var p=[],w=document.body,v=!1,f=null,m=["input","select","textarea"],h=c(),y={keydown:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};y[c()]="mouse";var E,l=[],L={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},k={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&a(),{ask:function(){return f},keys:function(){return p},types:function(){return l},set:o}}();